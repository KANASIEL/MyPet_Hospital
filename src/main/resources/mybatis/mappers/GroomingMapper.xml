<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boot.dao.GroomingDAO">

    <select id="findGroomingReservations" parameterType="hashmap"
            resultType="com.boot.dto.GroomingResDTO">
        SELECT * FROM grooming_res
        WHERE user_name = #{userName}
        AND user_phone = #{userPhone}
        ORDER BY res_date DESC
    </select>

    <insert id="createGroomingReservation"
            parameterType="com.boot.dto.GroomingResDTO">
        INSERT INTO grooming_res (
        res_no, user_name, user_no, pet_name, pet_no,
        user_phone, service_item, res_date, memo
        ) VALUES (
        seq_grooming_no.NEXTVAL,
        #{user_name},
        #{user_no},
        #{pet_name},
        #{pet_no},
        #{user_phone},
        #{service_item},
        #{res_date},
        #{memo}
        )
    </insert>

</mapper>
